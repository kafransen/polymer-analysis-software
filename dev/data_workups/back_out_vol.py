import datetime
import time
import numpy as np
import scipy
import plotly.graph_objs as go

data = [
['2023-10-08T12:42:59',0.1250],
['2023-10-08T12:50:37',0.1250],
['2023-10-08T12:50:38',0.0656],
['2023-10-08T13:05:53',0.0656],
['2023-10-08T13:05:55',0.0328],
['2023-10-08T13:06:32',0.0328],
['2023-10-08T13:06:59',0.0328],
['2023-10-08T13:37:28',0.0328],
['2023-10-08T13:37:30',0.0656],
['2023-10-08T13:52:44',0.0656],
['2023-10-08T13:52:46',0.1312],
['2023-10-08T14:00:23',0.1312],
['2023-10-08T14:00:25',0.2620],
['2023-10-08T14:04:14',0.2620],
['2023-10-08T14:04:14',0.0000],
['2023-10-08T14:05:45',0.0000],
['2023-10-08T14:05:45',0.1312],
['2023-10-08T14:17:26',0.1312],
['2023-10-08T14:17:26',0.0000],
['2023-10-08T14:23:57',0.0000],
['2023-10-08T14:23:57',0.2620],
['2023-10-08T14:25:38',0.2620],
['2023-10-08T14:26:01',0.2620],
['2023-10-08T14:29:30',0.2620],
['2023-10-08T14:32:22',0.2620],
['2023-10-08T14:36:11',0.2620],
['2023-10-08T14:36:13',0.1312],
['2023-10-08T14:43:50',0.1312],
['2023-10-08T14:43:52',0.0656],
['2023-10-08T14:59:06',0.0656],
['2023-10-08T14:59:08',0.0328],
['2023-10-08T14:59:57',0.2000],
['2023-10-08T15:02:19',0.2000],
]

new_data = []
for d in data:
    new_data.append([datetime.datetime.fromisoformat(d[0]).timestamp(), d[1]])

data = np.array(new_data)

nmr = [
'2023-10-08T12:48:56',
'2023-10-08T12:49:19',
'2023-10-08T12:49:44',
'2023-10-08T12:50:22',
'2023-10-08T12:51:01',
'2023-10-08T12:51:39',
'2023-10-08T12:52:18',
'2023-10-08T12:52:57',
'2023-10-08T12:53:35',
'2023-10-08T12:54:14',
'2023-10-08T12:54:48',
'2023-10-08T12:54:58',
'2023-10-08T12:55:12',
'2023-10-08T12:55:53',
'2023-10-08T12:56:33',
'2023-10-08T12:57:12',
'2023-10-08T12:57:50',
'2023-10-08T12:58:29',
'2023-10-08T12:59:08',
'2023-10-08T12:59:46',
'2023-10-08T13:00:25',
'2023-10-08T13:01:05',
'2023-10-08T13:01:43',
'2023-10-08T13:02:24',
'2023-10-08T13:03:02',
'2023-10-08T13:03:42',
'2023-10-08T13:04:23',
'2023-10-08T13:05:02',
'2023-10-08T13:05:40',
'2023-10-08T13:06:19',
'2023-10-08T13:06:58',
'2023-10-08T13:07:37',
'2023-10-08T13:08:16',
'2023-10-08T13:08:56',
'2023-10-08T13:09:45',
'2023-10-08T13:10:24',
'2023-10-08T13:11:03',
'2023-10-08T13:11:42',
'2023-10-08T13:12:22',
'2023-10-08T13:13:01',
'2023-10-08T13:13:39',
'2023-10-08T13:14:43',
'2023-10-08T13:15:22',
'2023-10-08T13:16:00',
'2023-10-08T13:16:39',
'2023-10-08T13:17:18',
'2023-10-08T13:17:56',
'2023-10-08T13:18:35',
'2023-10-08T13:19:13',
'2023-10-08T13:19:52',
'2023-10-08T13:20:30',
'2023-10-08T13:21:09',
'2023-10-08T13:21:48',
'2023-10-08T13:22:27',
'2023-10-08T13:23:06',
'2023-10-08T13:23:48',
'2023-10-08T13:24:26',
'2023-10-08T13:25:05',
'2023-10-08T13:25:44',
'2023-10-08T13:26:26',
'2023-10-08T13:27:05',
'2023-10-08T13:27:48',
'2023-10-08T13:28:27',
'2023-10-08T13:29:06',
'2023-10-08T13:29:45',
'2023-10-08T13:30:24',
'2023-10-08T13:31:03',
'2023-10-08T13:31:41',
'2023-10-08T13:32:20',
'2023-10-08T13:32:59',
'2023-10-08T13:33:38',
'2023-10-08T13:34:16',
'2023-10-08T13:34:55',
'2023-10-08T13:35:34',
'2023-10-08T13:36:13',
'2023-10-08T13:36:52',
'2023-10-08T13:37:30',
'2023-10-08T13:38:09',
'2023-10-08T13:38:48',
'2023-10-08T13:39:26',
'2023-10-08T13:40:05',
'2023-10-08T13:40:44',
'2023-10-08T13:41:23',
'2023-10-08T13:42:03',
'2023-10-08T13:42:43',
'2023-10-08T13:43:22',
'2023-10-08T13:44:30',
'2023-10-08T13:45:10',
'2023-10-08T13:45:57',
'2023-10-08T13:46:35',
'2023-10-08T13:47:15',
'2023-10-08T13:47:53',
'2023-10-08T13:48:32',
'2023-10-08T13:49:10',
'2023-10-08T13:49:50',
'2023-10-08T13:50:29',
'2023-10-08T13:51:08',
'2023-10-08T13:51:46',
'2023-10-08T13:52:31',
'2023-10-08T13:53:10',
'2023-10-08T13:53:49',
'2023-10-08T13:54:29',
'2023-10-08T13:55:10',
'2023-10-08T13:55:56',
'2023-10-08T13:56:35',
'2023-10-08T13:57:15',
'2023-10-08T13:57:54',
'2023-10-08T13:58:34',
'2023-10-08T13:59:13',
'2023-10-08T13:59:51',
'2023-10-08T14:00:33',
'2023-10-08T14:01:12',
'2023-10-08T14:01:51',
'2023-10-08T14:02:29',
'2023-10-08T14:03:08',
'2023-10-08T14:03:47',
'2023-10-08T14:04:25',
'2023-10-08T14:05:06',
'2023-10-08T14:05:45',
'2023-10-08T14:06:23',
'2023-10-08T14:07:02',
'2023-10-08T14:07:41',
'2023-10-08T14:08:19',
'2023-10-08T14:08:59',
'2023-10-08T14:09:37',
'2023-10-08T14:10:16',
'2023-10-08T14:10:58',
'2023-10-08T14:11:37',
'2023-10-08T14:12:46',
'2023-10-08T14:13:34',
'2023-10-08T14:14:13',
'2023-10-08T14:14:51',
'2023-10-08T14:15:31',
'2023-10-08T14:16:09',
'2023-10-08T14:16:48',
'2023-10-08T14:17:27',
'2023-10-08T14:18:06',
'2023-10-08T14:18:44',
'2023-10-08T14:19:23',
'2023-10-08T14:20:01',
'2023-10-08T14:20:40',
'2023-10-08T14:21:18',
'2023-10-08T14:21:57',
'2023-10-08T14:22:08',
'2023-10-08T14:22:47',
'2023-10-08T14:23:26',
'2023-10-08T14:24:06',
'2023-10-08T14:24:45',
'2023-10-08T14:43:01',
'2023-10-08T14:43:39',
'2023-10-08T14:44:39',
'2023-10-08T14:45:18',
'2023-10-08T14:45:59',
'2023-10-08T14:46:37',
'2023-10-08T14:47:16',
'2023-10-08T14:47:55',
'2023-10-08T14:48:33',
'2023-10-08T14:49:12',
'2023-10-08T14:49:51',
'2023-10-08T14:50:29',
'2023-10-08T14:51:10',
'2023-10-08T14:51:49',
'2023-10-08T14:52:29',
'2023-10-08T14:53:08',
'2023-10-08T14:53:49',
'2023-10-08T14:54:35',
'2023-10-08T14:55:15',
'2023-10-08T14:55:54',
'2023-10-08T14:56:34',
'2023-10-08T14:57:14',
'2023-10-08T14:57:53',
'2023-10-08T14:58:33',
'2023-10-08T14:59:12',
'2023-10-08T14:59:51',
'2023-10-08T15:00:29',
'2023-10-08T15:01:08',
'2023-10-08T15:01:47',
'2023-10-08T15:02:25',
'2023-10-08T15:03:12',
'2023-10-08T15:03:51',
'2023-10-08T15:04:31',
'2023-10-08T15:05:10',
'2023-10-08T15:06:05',
'2023-10-08T15:06:44',
'2023-10-08T15:07:40',
'2023-10-08T15:08:18',
'2023-10-08T15:08:57',
'2023-10-08T15:10:07',
'2023-10-08T15:10:46',
'2023-10-08T15:11:24',
'2023-10-08T15:12:03',
'2023-10-08T15:12:42',
'2023-10-08T15:13:20',
'2023-10-08T15:14:00',
'2023-10-08T15:19:50',
'2023-10-08T16:36:27',
'2023-10-08T16:37:32',
'2023-10-08T16:38:11',
'2023-10-08T16:38:53',
'2023-10-08T16:39:46',
'2023-10-08T16:40:25',
'2023-10-08T16:41:06',
'2023-10-08T16:41:44',
'2023-10-08T16:42:25',
'2023-10-08T16:43:17',
'2023-10-08T16:44:19',
'2023-10-08T16:46:02',
'2023-10-08T16:46:41',
'2023-10-08T16:47:36',
'2023-10-08T16:48:16',
'2023-10-08T16:48:56',
'2023-10-08T16:49:35',
'2023-10-08T16:50:14',
'2023-10-08T16:50:53',
'2023-10-08T16:51:32',
'2023-10-08T16:52:11',
'2023-10-08T16:52:50',
'2023-10-08T16:53:38',
'2023-10-08T16:54:19',

]

new_data_nmr = []
for d in nmr:
    new_data_nmr.append(datetime.datetime.fromisoformat(d).timestamp())

data_nmr = np.array(new_data_nmr)

ir = [
'2023-10-08T12:43:28',
'2023-10-08T12:43:38',
'2023-10-08T12:43:48',
'2023-10-08T12:43:58',
'2023-10-08T12:44:08',
'2023-10-08T12:44:18',
'2023-10-08T12:44:28',
'2023-10-08T12:44:38',
'2023-10-08T12:44:48',
'2023-10-08T12:44:58',
'2023-10-08T12:45:08',
'2023-10-08T12:45:18',
'2023-10-08T12:45:28',
'2023-10-08T12:45:38',
'2023-10-08T12:45:48',
'2023-10-08T12:45:58',
'2023-10-08T12:46:08',
'2023-10-08T12:46:18',
'2023-10-08T12:46:28',
'2023-10-08T12:46:38',
'2023-10-08T12:46:48',
'2023-10-08T12:46:58',
'2023-10-08T12:47:08',
'2023-10-08T12:47:18',
'2023-10-08T12:47:28',
'2023-10-08T12:47:38',
'2023-10-08T12:47:48',
'2023-10-08T12:47:58',
'2023-10-08T12:48:08',
'2023-10-08T12:48:18',
'2023-10-08T12:48:28',
'2023-10-08T12:48:38',
'2023-10-08T12:48:48',
'2023-10-08T12:48:58',
'2023-10-08T12:49:08',
'2023-10-08T12:49:18',
'2023-10-08T12:49:28',
'2023-10-08T12:49:38',
'2023-10-08T12:49:48',
'2023-10-08T12:49:58',
'2023-10-08T12:50:08',
'2023-10-08T12:50:18',
'2023-10-08T12:50:28',
'2023-10-08T12:50:38',
'2023-10-08T12:50:48',
'2023-10-08T12:50:58',
'2023-10-08T12:51:08',
'2023-10-08T12:51:18',
'2023-10-08T12:51:28',
'2023-10-08T12:51:37',
'2023-10-08T12:51:47',
'2023-10-08T12:51:57',
'2023-10-08T12:52:07',
'2023-10-08T12:52:17',
'2023-10-08T12:52:27',
'2023-10-08T12:52:37',
'2023-10-08T12:52:47',
'2023-10-08T12:52:57',
'2023-10-08T12:53:07',
'2023-10-08T12:53:17',
'2023-10-08T12:53:27',
'2023-10-08T12:53:37',
'2023-10-08T12:53:47',
'2023-10-08T12:53:57',
'2023-10-08T12:54:07',
'2023-10-08T12:54:17',
'2023-10-08T12:54:27',
'2023-10-08T12:54:37',
'2023-10-08T12:54:47',
'2023-10-08T12:54:57',
'2023-10-08T12:55:07',
'2023-10-08T12:55:17',
'2023-10-08T12:55:27',
'2023-10-08T12:55:37',
'2023-10-08T12:55:47',
'2023-10-08T12:55:57',
'2023-10-08T12:56:07',
'2023-10-08T12:56:17',
'2023-10-08T12:56:27',
'2023-10-08T12:56:37',
'2023-10-08T12:56:47',
'2023-10-08T12:56:57',
'2023-10-08T12:57:07',
'2023-10-08T12:57:17',
'2023-10-08T12:57:27',
'2023-10-08T12:57:37',
'2023-10-08T12:57:47',
'2023-10-08T12:57:57',
'2023-10-08T12:58:07',
'2023-10-08T12:58:17',
'2023-10-08T12:58:27',
'2023-10-08T12:58:37',
'2023-10-08T12:58:47',
'2023-10-08T12:58:57',
'2023-10-08T12:59:07',
'2023-10-08T12:59:17',
'2023-10-08T12:59:27',
'2023-10-08T12:59:37',
'2023-10-08T12:59:47',
'2023-10-08T12:59:57',
'2023-10-08T13:00:07',
'2023-10-08T13:00:17',
'2023-10-08T13:00:27',
'2023-10-08T13:00:37',
'2023-10-08T13:00:47',
'2023-10-08T13:00:57',
'2023-10-08T13:01:07',
'2023-10-08T13:01:17',
'2023-10-08T13:01:27',
'2023-10-08T13:01:36',
'2023-10-08T13:01:46',
'2023-10-08T13:01:56',
'2023-10-08T13:02:06',
'2023-10-08T13:02:16',
'2023-10-08T13:02:26',
'2023-10-08T13:02:36',
'2023-10-08T13:02:46',
'2023-10-08T13:02:56',
'2023-10-08T13:03:06',
'2023-10-08T13:03:16',
'2023-10-08T13:03:26',
'2023-10-08T13:03:36',
'2023-10-08T13:03:46',
'2023-10-08T13:03:56',
'2023-10-08T13:04:06',
'2023-10-08T13:04:16',
'2023-10-08T13:04:26',
'2023-10-08T13:04:36',
'2023-10-08T13:04:46',
'2023-10-08T13:04:56',
'2023-10-08T13:05:06',
'2023-10-08T13:05:16',
'2023-10-08T13:05:26',
'2023-10-08T13:05:36',
'2023-10-08T13:05:46',
'2023-10-08T13:05:56',
'2023-10-08T13:06:06',
'2023-10-08T13:06:16',
'2023-10-08T13:06:26',
'2023-10-08T13:06:59',
'2023-10-08T13:07:09',
'2023-10-08T13:07:19',
'2023-10-08T13:07:29',
'2023-10-08T13:07:39',
'2023-10-08T13:07:49',
'2023-10-08T13:07:59',
'2023-10-08T13:08:09',
'2023-10-08T13:08:19',
'2023-10-08T13:08:29',
'2023-10-08T13:08:39',
'2023-10-08T13:08:49',
'2023-10-08T13:08:59',
'2023-10-08T13:09:09',
'2023-10-08T13:09:19',
'2023-10-08T13:09:29',
'2023-10-08T13:09:39',
'2023-10-08T13:09:49',
'2023-10-08T13:09:59',
'2023-10-08T13:10:09',
'2023-10-08T13:10:19',
'2023-10-08T13:10:29',
'2023-10-08T13:10:39',
'2023-10-08T13:10:49',
'2023-10-08T13:10:59',
'2023-10-08T13:11:09',
'2023-10-08T13:11:19',
'2023-10-08T13:11:29',
'2023-10-08T13:11:39',
'2023-10-08T13:11:49',
'2023-10-08T13:11:59',
'2023-10-08T13:12:08',
'2023-10-08T13:12:18',
'2023-10-08T13:12:28',
'2023-10-08T13:12:38',
'2023-10-08T13:12:48',
'2023-10-08T13:12:58',
'2023-10-08T13:13:08',
'2023-10-08T13:13:18',
'2023-10-08T13:13:28',
'2023-10-08T13:13:38',
'2023-10-08T13:13:48',
'2023-10-08T13:13:58',
'2023-10-08T13:14:08',
'2023-10-08T13:14:18',
'2023-10-08T13:14:28',
'2023-10-08T13:14:38',
'2023-10-08T13:14:48',
'2023-10-08T13:14:58',
'2023-10-08T13:15:08',
'2023-10-08T13:15:18',
'2023-10-08T13:15:28',
'2023-10-08T13:15:38',
'2023-10-08T13:15:48',
'2023-10-08T13:15:58',
'2023-10-08T13:16:08',
'2023-10-08T13:16:18',
'2023-10-08T13:16:28',
'2023-10-08T13:16:38',
'2023-10-08T13:16:48',
'2023-10-08T13:16:58',
'2023-10-08T13:17:08',
'2023-10-08T13:17:18',
'2023-10-08T13:17:28',
'2023-10-08T13:17:38',
'2023-10-08T13:17:48',
'2023-10-08T13:17:58',
'2023-10-08T13:18:08',
'2023-10-08T13:18:18',
'2023-10-08T13:18:28',
'2023-10-08T13:18:38',
'2023-10-08T13:18:48',
'2023-10-08T13:18:58',
'2023-10-08T13:19:08',
'2023-10-08T13:19:18',
'2023-10-08T13:19:28',
'2023-10-08T13:19:38',
'2023-10-08T13:19:48',
'2023-10-08T13:19:58',
'2023-10-08T13:20:08',
'2023-10-08T13:20:18',
'2023-10-08T13:20:28',
'2023-10-08T13:20:38',
'2023-10-08T13:20:48',
'2023-10-08T13:20:58',
'2023-10-08T13:21:08',
'2023-10-08T13:21:18',
'2023-10-08T13:21:28',
'2023-10-08T13:21:38',
'2023-10-08T13:21:48',
'2023-10-08T13:21:58',
'2023-10-08T13:22:07',
'2023-10-08T13:22:17',
'2023-10-08T13:22:27',
'2023-10-08T13:22:37',
'2023-10-08T13:22:47',
'2023-10-08T13:22:57',
'2023-10-08T13:23:07',
'2023-10-08T13:23:17',
'2023-10-08T13:23:27',
'2023-10-08T13:23:37',
'2023-10-08T13:23:47',
'2023-10-08T13:23:57',
'2023-10-08T13:24:07',
'2023-10-08T13:24:17',
'2023-10-08T13:24:27',
'2023-10-08T13:24:37',
'2023-10-08T13:24:47',
'2023-10-08T13:24:57',
'2023-10-08T13:25:07',
'2023-10-08T13:25:17',
'2023-10-08T13:25:27',
'2023-10-08T13:25:37',
'2023-10-08T13:25:47',
'2023-10-08T13:25:57',
'2023-10-08T13:26:07',
'2023-10-08T13:26:17',
'2023-10-08T13:26:27',
'2023-10-08T13:26:37',
'2023-10-08T13:26:47',
'2023-10-08T13:26:57',
'2023-10-08T13:27:07',
'2023-10-08T13:27:17',
'2023-10-08T13:27:27',
'2023-10-08T13:27:37',
'2023-10-08T13:27:47',
'2023-10-08T13:27:57',
'2023-10-08T13:28:07',
'2023-10-08T13:28:17',
'2023-10-08T13:28:27',
'2023-10-08T13:28:37',
'2023-10-08T13:28:47',
'2023-10-08T13:28:57',
'2023-10-08T13:29:07',
'2023-10-08T13:29:17',
'2023-10-08T13:29:27',
'2023-10-08T13:29:37',
'2023-10-08T13:29:47',
'2023-10-08T13:29:57',
'2023-10-08T13:30:07',
'2023-10-08T13:30:17',
'2023-10-08T13:30:27',
'2023-10-08T13:30:37',
'2023-10-08T13:30:47',
'2023-10-08T13:30:57',
'2023-10-08T13:31:07',
'2023-10-08T13:31:17',
'2023-10-08T13:31:27',
'2023-10-08T13:31:37',
'2023-10-08T13:31:47',
'2023-10-08T13:31:57',
'2023-10-08T13:32:06',
'2023-10-08T13:32:16',
'2023-10-08T13:32:26',
'2023-10-08T13:32:36',
'2023-10-08T13:32:46',
'2023-10-08T13:32:56',
'2023-10-08T13:33:06',
'2023-10-08T13:33:16',
'2023-10-08T13:33:26',
'2023-10-08T13:33:36',
'2023-10-08T13:33:46',
'2023-10-08T13:33:56',
'2023-10-08T13:34:06',
'2023-10-08T13:34:16',
'2023-10-08T13:34:26',
'2023-10-08T13:34:36',
'2023-10-08T13:34:46',
'2023-10-08T13:34:56',
'2023-10-08T13:35:06',
'2023-10-08T13:35:16',
'2023-10-08T13:35:26',
'2023-10-08T13:35:36',
'2023-10-08T13:35:46',
'2023-10-08T13:35:56',
'2023-10-08T13:36:06',
'2023-10-08T13:36:16',
'2023-10-08T13:36:26',
'2023-10-08T13:36:36',
'2023-10-08T13:36:46',
'2023-10-08T13:36:56',
'2023-10-08T13:37:06',
'2023-10-08T13:37:16',
'2023-10-08T13:37:26',
'2023-10-08T13:37:36',
'2023-10-08T13:37:46',
'2023-10-08T13:37:56',
'2023-10-08T13:38:06',
'2023-10-08T13:38:16',
'2023-10-08T13:38:26',
'2023-10-08T13:38:36',
'2023-10-08T13:38:46',
'2023-10-08T13:38:56',
'2023-10-08T13:39:06',
'2023-10-08T13:39:16',
'2023-10-08T13:39:26',
'2023-10-08T13:39:36',
'2023-10-08T13:39:46',
'2023-10-08T13:39:56',
'2023-10-08T13:40:06',
'2023-10-08T13:40:16',
'2023-10-08T13:40:26',
'2023-10-08T13:40:36',
'2023-10-08T13:40:46',
'2023-10-08T13:40:56',
'2023-10-08T13:41:06',
'2023-10-08T13:41:16',
'2023-10-08T13:41:26',
'2023-10-08T13:41:36',
'2023-10-08T13:41:46',
'2023-10-08T13:41:55',
'2023-10-08T13:42:05',
'2023-10-08T13:42:15',
'2023-10-08T13:42:25',
'2023-10-08T13:42:35',
'2023-10-08T13:42:45',
'2023-10-08T13:42:55',
'2023-10-08T13:43:05',
'2023-10-08T13:43:15',
'2023-10-08T13:43:25',
'2023-10-08T13:43:35',
'2023-10-08T13:43:45',
'2023-10-08T13:43:55',
'2023-10-08T13:44:05',
'2023-10-08T13:44:15',
'2023-10-08T13:44:25',
'2023-10-08T13:44:35',
'2023-10-08T13:44:45',
'2023-10-08T13:44:55',
'2023-10-08T13:45:05',
'2023-10-08T13:45:15',
'2023-10-08T13:45:25',
'2023-10-08T13:45:35',
'2023-10-08T13:45:45',
'2023-10-08T13:45:55',
'2023-10-08T13:46:05',
'2023-10-08T13:46:15',
'2023-10-08T13:46:25',
'2023-10-08T13:46:35',
'2023-10-08T13:46:45',
'2023-10-08T13:46:55',
'2023-10-08T13:47:05',
'2023-10-08T13:47:15',
'2023-10-08T13:47:25',
'2023-10-08T13:47:35',
'2023-10-08T13:47:45',
'2023-10-08T13:47:55',
'2023-10-08T13:48:05',
'2023-10-08T13:48:15',
'2023-10-08T13:48:25',
'2023-10-08T13:48:35',
'2023-10-08T13:48:45',
'2023-10-08T13:48:55',
'2023-10-08T13:49:05',
'2023-10-08T13:49:15',
'2023-10-08T13:49:25',
'2023-10-08T13:49:35',
'2023-10-08T13:49:45',
'2023-10-08T13:49:55',
'2023-10-08T13:50:05',
'2023-10-08T13:50:15',
'2023-10-08T13:50:25',
'2023-10-08T13:50:35',
'2023-10-08T13:50:45',
'2023-10-08T13:50:55',
'2023-10-08T13:51:05',
'2023-10-08T13:51:15',
'2023-10-08T13:51:25',
'2023-10-08T13:51:35',
'2023-10-08T13:51:45',
'2023-10-08T13:51:54',
'2023-10-08T13:52:04',
'2023-10-08T13:52:14',
'2023-10-08T13:52:24',
'2023-10-08T13:52:34',
'2023-10-08T13:52:44',
'2023-10-08T13:52:54',
'2023-10-08T13:53:04',
'2023-10-08T13:53:14',
'2023-10-08T13:53:24',
'2023-10-08T13:53:34',
'2023-10-08T13:53:44',
'2023-10-08T13:53:54',
'2023-10-08T13:54:04',
'2023-10-08T13:54:14',
'2023-10-08T13:54:24',
'2023-10-08T13:54:34',
'2023-10-08T13:54:44',
'2023-10-08T13:54:54',
'2023-10-08T13:55:04',
'2023-10-08T13:55:14',
'2023-10-08T13:55:24',
'2023-10-08T13:55:34',
'2023-10-08T13:55:44',
'2023-10-08T13:55:54',
'2023-10-08T13:56:04',
'2023-10-08T13:56:14',
'2023-10-08T13:56:24',
'2023-10-08T13:56:34',
'2023-10-08T13:56:44',
'2023-10-08T13:56:54',
'2023-10-08T13:57:04',
'2023-10-08T13:57:14',
'2023-10-08T13:57:24',
'2023-10-08T13:57:34',
'2023-10-08T13:57:44',
'2023-10-08T13:57:54',
'2023-10-08T13:58:04',
'2023-10-08T13:58:14',
'2023-10-08T13:58:24',
'2023-10-08T13:58:34',
'2023-10-08T13:58:44',
'2023-10-08T13:58:54',
'2023-10-08T13:59:04',
'2023-10-08T13:59:14',
'2023-10-08T13:59:24',
'2023-10-08T13:59:34',
'2023-10-08T13:59:44',
'2023-10-08T13:59:54',
'2023-10-08T14:00:04',
'2023-10-08T14:00:14',
'2023-10-08T14:00:24',
'2023-10-08T14:00:34',
'2023-10-08T14:00:44',
'2023-10-08T14:00:54',
'2023-10-08T14:01:04',
'2023-10-08T14:01:14',
'2023-10-08T14:01:24',
'2023-10-08T14:01:34',
'2023-10-08T14:01:44',
'2023-10-08T14:01:54',
'2023-10-08T14:02:03',
'2023-10-08T14:02:13',
'2023-10-08T14:02:23',
'2023-10-08T14:02:33',
'2023-10-08T14:02:43',
'2023-10-08T14:02:53',
'2023-10-08T14:03:03',
'2023-10-08T14:03:13',
'2023-10-08T14:03:23',
'2023-10-08T14:03:33',
'2023-10-08T14:03:43',
'2023-10-08T14:03:53',
'2023-10-08T14:04:03',
'2023-10-08T14:04:13',
'2023-10-08T14:05:45',
'2023-10-08T14:05:55',
'2023-10-08T14:06:05',
'2023-10-08T14:06:15',
'2023-10-08T14:06:25',
'2023-10-08T14:06:35',
'2023-10-08T14:06:45',
'2023-10-08T14:06:55',
'2023-10-08T14:07:05',
'2023-10-08T14:07:15',
'2023-10-08T14:07:25',
'2023-10-08T14:07:35',
'2023-10-08T14:07:45',
'2023-10-08T14:07:55',
'2023-10-08T14:08:05',
'2023-10-08T14:08:15',
'2023-10-08T14:08:25',
'2023-10-08T14:08:35',
'2023-10-08T14:08:45',
'2023-10-08T14:08:55',
'2023-10-08T14:09:05',
'2023-10-08T14:09:15',
'2023-10-08T14:09:25',
'2023-10-08T14:09:35',
'2023-10-08T14:09:45',
'2023-10-08T14:09:55',
'2023-10-08T14:10:05',
'2023-10-08T14:10:15',
'2023-10-08T14:10:25',
'2023-10-08T14:10:35',
'2023-10-08T14:10:45',
'2023-10-08T14:10:55',
'2023-10-08T14:11:05',
'2023-10-08T14:11:15',
'2023-10-08T14:11:25',
'2023-10-08T14:11:35',
'2023-10-08T14:11:45',
'2023-10-08T14:11:55',
'2023-10-08T14:12:05',
'2023-10-08T14:12:15',
'2023-10-08T14:12:25',
'2023-10-08T14:12:35',
'2023-10-08T14:12:45',
'2023-10-08T14:12:55',
'2023-10-08T14:13:05',
'2023-10-08T14:13:15',
'2023-10-08T14:13:25',
'2023-10-08T14:13:35',
'2023-10-08T14:13:45',
'2023-10-08T14:13:55',
'2023-10-08T14:14:05',
'2023-10-08T14:14:15',
'2023-10-08T14:14:24',
'2023-10-08T14:14:34',
'2023-10-08T14:14:44',
'2023-10-08T14:14:54',
'2023-10-08T14:15:04',
'2023-10-08T14:15:14',
'2023-10-08T14:15:24',
'2023-10-08T14:15:34',
'2023-10-08T14:15:44',
'2023-10-08T14:15:54',
'2023-10-08T14:16:04',
'2023-10-08T14:16:14',
'2023-10-08T14:16:24',
'2023-10-08T14:16:34',
'2023-10-08T14:16:44',
'2023-10-08T14:16:54',
'2023-10-08T14:17:04',
'2023-10-08T14:17:14',
'2023-10-08T14:17:24',
'2023-10-08T14:23:57',
'2023-10-08T14:24:07',
'2023-10-08T14:24:17',
'2023-10-08T14:24:27',
'2023-10-08T14:24:37',
'2023-10-08T14:24:47',
'2023-10-08T14:24:57',
'2023-10-08T14:25:07',
'2023-10-08T14:25:17',
'2023-10-08T14:25:27',
'2023-10-08T14:25:37',
'2023-10-08T14:26:01',
'2023-10-08T14:26:11',
'2023-10-08T14:26:21',
'2023-10-08T14:26:31',
'2023-10-08T14:26:41',
'2023-10-08T14:26:51',
'2023-10-08T14:27:01',
'2023-10-08T14:27:11',
'2023-10-08T14:27:21',
'2023-10-08T14:27:31',
'2023-10-08T14:27:41',
'2023-10-08T14:27:51',
'2023-10-08T14:28:01',
'2023-10-08T14:28:11',
'2023-10-08T14:28:21',
'2023-10-08T14:28:31',
'2023-10-08T14:28:40',
'2023-10-08T14:28:50',
'2023-10-08T14:29:00',
'2023-10-08T14:29:10',
'2023-10-08T14:29:20',
'2023-10-08T14:29:30',
'2023-10-08T14:32:22',
'2023-10-08T14:32:32',
'2023-10-08T14:32:42',
'2023-10-08T14:32:52',
'2023-10-08T14:33:02',
'2023-10-08T14:33:12',
'2023-10-08T14:33:22',
'2023-10-08T14:33:32',
'2023-10-08T14:33:42',
'2023-10-08T14:33:52',
'2023-10-08T14:34:02',
'2023-10-08T14:34:12',
'2023-10-08T14:34:22',
'2023-10-08T14:34:32',
'2023-10-08T14:34:42',
'2023-10-08T14:34:52',
'2023-10-08T14:35:02',
'2023-10-08T14:35:12',
'2023-10-08T14:35:22',
'2023-10-08T14:35:32',
'2023-10-08T14:35:42',
'2023-10-08T14:35:52',
'2023-10-08T14:36:02',
'2023-10-08T14:36:12',
'2023-10-08T14:36:22',
'2023-10-08T14:36:32',
'2023-10-08T14:36:42',
'2023-10-08T14:36:52',
'2023-10-08T14:37:02',
'2023-10-08T14:37:12',
'2023-10-08T14:37:22',
'2023-10-08T14:37:32',
'2023-10-08T14:37:42',
'2023-10-08T14:37:52',
'2023-10-08T14:38:02',
'2023-10-08T14:38:12',
'2023-10-08T14:38:22',
'2023-10-08T14:38:32',
'2023-10-08T14:38:42',
'2023-10-08T14:38:52',
'2023-10-08T14:39:02',
'2023-10-08T14:39:12',
'2023-10-08T14:39:22',
'2023-10-08T14:39:32',
'2023-10-08T14:39:42',
'2023-10-08T14:39:52',
'2023-10-08T14:40:01',
'2023-10-08T14:40:11',
'2023-10-08T14:40:21',
'2023-10-08T14:40:31',
'2023-10-08T14:40:41',
'2023-10-08T14:40:51',
'2023-10-08T14:41:01',
'2023-10-08T14:41:11',
'2023-10-08T14:41:21',
'2023-10-08T14:41:31',
'2023-10-08T14:41:41',
'2023-10-08T14:41:51',
'2023-10-08T14:42:01',
'2023-10-08T14:42:11',
'2023-10-08T14:42:21',
'2023-10-08T14:42:31',
'2023-10-08T14:42:41',
'2023-10-08T14:42:51',
'2023-10-08T14:43:01',
'2023-10-08T14:43:11',
'2023-10-08T14:43:21',
'2023-10-08T14:43:31',
'2023-10-08T14:43:41',
'2023-10-08T14:43:51',
'2023-10-08T14:44:01',
'2023-10-08T14:44:11',
'2023-10-08T14:44:21',
'2023-10-08T14:44:31',
'2023-10-08T14:44:41',
'2023-10-08T14:44:51',
'2023-10-08T14:45:01',
'2023-10-08T14:45:11',
'2023-10-08T14:45:21',
'2023-10-08T14:45:31',
'2023-10-08T14:45:41',
'2023-10-08T14:45:51',
'2023-10-08T14:46:01',
'2023-10-08T14:46:11',
'2023-10-08T14:46:21',
'2023-10-08T14:46:31',
'2023-10-08T14:46:41',
'2023-10-08T14:46:51',
'2023-10-08T14:47:01',
'2023-10-08T14:47:11',
'2023-10-08T14:47:21',
'2023-10-08T14:47:31',
'2023-10-08T14:47:41',
'2023-10-08T14:47:51',
'2023-10-08T14:48:01',
'2023-10-08T14:48:11',
'2023-10-08T14:48:21',
'2023-10-08T14:48:31',
'2023-10-08T14:48:41',
'2023-10-08T14:48:51',
'2023-10-08T14:49:01',
'2023-10-08T14:49:11',
'2023-10-08T14:49:21',
'2023-10-08T14:49:31',
'2023-10-08T14:49:41',
'2023-10-08T14:49:50',
'2023-10-08T14:50:00',
'2023-10-08T14:50:10',
'2023-10-08T14:50:20',
'2023-10-08T14:50:30',
'2023-10-08T14:50:40',
'2023-10-08T14:50:50',
'2023-10-08T14:51:00',
'2023-10-08T14:51:10',
'2023-10-08T14:51:20',
'2023-10-08T14:51:30',
'2023-10-08T14:51:40',
'2023-10-08T14:51:50',
'2023-10-08T14:52:00',
'2023-10-08T14:52:10',
'2023-10-08T14:52:20',
'2023-10-08T14:52:30',
'2023-10-08T14:52:40',
'2023-10-08T14:52:50',
'2023-10-08T14:53:00',
'2023-10-08T14:53:10',
'2023-10-08T14:53:20',
'2023-10-08T14:53:30',
'2023-10-08T14:53:40',
'2023-10-08T14:53:50',
'2023-10-08T14:54:00',
'2023-10-08T14:54:10',
'2023-10-08T14:54:20',
'2023-10-08T14:54:30',
'2023-10-08T14:54:40',
'2023-10-08T14:54:50',
'2023-10-08T14:55:00',
'2023-10-08T14:55:10',
'2023-10-08T14:55:20',
'2023-10-08T14:55:30',
'2023-10-08T14:55:40',
'2023-10-08T14:55:50',
'2023-10-08T14:56:00',
'2023-10-08T14:56:10',
'2023-10-08T14:56:20',
'2023-10-08T14:56:30',
'2023-10-08T14:56:40',
'2023-10-08T14:56:50',
'2023-10-08T14:57:00',
'2023-10-08T14:57:10',
'2023-10-08T14:57:20',
'2023-10-08T14:57:30',
'2023-10-08T14:57:40',
'2023-10-08T14:57:50',
'2023-10-08T14:58:00',
'2023-10-08T14:58:10',
'2023-10-08T14:58:20',
'2023-10-08T14:58:30',
'2023-10-08T14:58:40',
'2023-10-08T14:58:50',
'2023-10-08T14:59:00',
'2023-10-08T14:59:10',
'2023-10-08T14:59:20',
'2023-10-08T15:02:19',
'2023-10-08T15:02:29',
'2023-10-08T15:02:39',
'2023-10-08T15:02:49',
'2023-10-08T15:02:59',
'2023-10-08T15:03:09',
'2023-10-08T15:03:19',
'2023-10-08T15:03:29',
'2023-10-08T15:03:39',
'2023-10-08T15:03:49',
'2023-10-08T15:03:59',
'2023-10-08T15:04:09',
'2023-10-08T15:04:19',
'2023-10-08T15:04:29',
'2023-10-08T15:04:39',
'2023-10-08T15:04:49',
'2023-10-08T15:04:59',
'2023-10-08T15:05:09',
'2023-10-08T15:05:19',
'2023-10-08T15:05:29',
'2023-10-08T15:05:39',
'2023-10-08T15:05:49',
'2023-10-08T15:05:59',
'2023-10-08T15:06:08',

]


new_data_ir = []
for d in ir:
    new_data_ir.append(datetime.datetime.fromisoformat(d).timestamp())

data_ir = np.array(new_data_ir)

def get_flowrate(new_timestamps: np.ndarray):
    new_flow_rates = np.interp(new_timestamps, data[:,0], data[:,1]/60)
    return new_flow_rates


def get_vol(new_timestamps, offset):
    time_ = np.linspace(data[0, 0], data[-1, 0] + 60 * 60, 1000)
    flow_rates = get_flowrate(time_)
    cum_volume = scipy.integrate.cumulative_trapezoid(y=flow_rates, x=time_)
    cum_volume = np.concatenate(([0], cum_volume))

    return np.interp(new_timestamps, time_, cum_volume - offset)
    # fig = go.Figure()
    # fig.add_trace(go.Scatter(x=time_, y=cum_volume, mode="lines"))
    # fig.write_html("temp_vol.html", auto_open=True)


def main():
    # nmr_vol = get_vol(data_nmr, 0.8)
    # for i in range(len(nmr_vol)):
    #     print(data_nmr[i], nmr_vol[i])

    ir_vol = get_vol(data_ir, 0.9)
    for i in range(len(ir_vol)):
        print(data_ir[i], ir_vol[i])


if __name__ == "__main__":
    main()
