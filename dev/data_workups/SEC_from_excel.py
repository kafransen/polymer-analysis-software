import datetime

import numpy as np
import chem_analysis as ca

a = np.loadtxt(
    r"C:\Users\nicep\Desktop\post_doc_2022\Data\polymerizations\DW2-14\DW2-14-SEC.csv",
    delimiter=",",
    skiprows=2
)

x = a[:, 0]
data = a[:, 1::2]

time_ = [
'10:58:58',
'11:27:00',
'11:34:26',
'11:39:10',
'11:44:11',
'11:48:38',
'11:53:47',
'11:59:32',
'12:08:00',
'12:13:08',
'12:19:58',
'12:25:14',
'12:30:17',
'12:35:36',
'12:41:03',
'12:47:31',
'12:54:18',
'13:03:10',
'13:10:29',
'13:18:23',
'13:33:28',
'13:40:55',
'13:46:10',
'13:52:50',
'14:01:32',
'14:06:20',
'14:12:50',
'14:21:50',
'14:28:19',
'14:35:14',
'14:41:45',
'14:49:20',
'14:57:46',
'15:05:21',
'15:13:21',
'15:17:14',
'15:36:20',
'15:42:26',
'15:49:37',
'15:55:55',
'16:01:17',
'16:10:12',
'16:17:44',
'16:25:50',
'16:31:00',
'16:35:40',
'16:40:32',
'16:45:55',
'16:52:08',
'16:58:43',
'17:05:55',
'17:11:09',
'17:17:58',
'17:35:08',
'17:39:58',
'17:46:08',
'17:55:00',
'18:02:02',
'18:07:26',
'18:12:00',
'18:18:24',
'18:23:45',
'18:29:43',
'18:33:44',
'18:37:55',
'18:42:50',
'18:48:14',
'18:53:28',
'18:58:15',
'19:04:42',
'19:10:37',
'19:16:15',
'19:26:45',
'19:32:25',
'19:40:00',
'20:40:00'
    ]

time_ = np.array([datetime.datetime.fromisoformat(f"2023-12-20T{t}").timestamp() for t in time_])

d = ca.utils.general_math.pack_time_series(x, time_, data.T)

np.save(r"C:\Users\nicep\Desktop\post_doc_2022\Data\polymerizations\DW2-14\DW2-14_RI", d)

print("hi")
